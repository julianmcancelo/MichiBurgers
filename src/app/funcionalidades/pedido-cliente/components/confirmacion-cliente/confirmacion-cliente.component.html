<!-- Navegación Pedido QR -->
<nav class="sticky top-0 z-30 bg-white/80 backdrop-blur supports-[backdrop-filter]:bg-white/60 border-b border-secondary-100">
  <div class="container mx-auto px-4 py-3 flex flex-wrap items-center gap-2 text-sm">
    <a [routerLink]="['../']" routerLinkActive="!bg-primary-600 !text-white" [routerLinkActiveOptions]="{ exact: true }"
       class="px-3 py-1.5 rounded-lg font-medium text-primary-700 hover:bg-primary-50 transition">Registro</a>
    <a [routerLink]="['../menu']" routerLinkActive="!bg-primary-600 !text-white"
       class="px-3 py-1.5 rounded-lg font-medium text-primary-700 hover:bg-primary-50 transition">Menú</a>
    <a [routerLink]="['../pago']" routerLinkActive="!bg-primary-600 !text-white"
       class="px-3 py-1.5 rounded-lg font-medium text-primary-700 hover:bg-primary-50 transition">Pago</a>
    <a [routerLink]="['./']" routerLinkActive="!bg-primary-600 !text-white" [routerLinkActiveOptions]="{ exact: true }"
       class="px-3 py-1.5 rounded-lg font-medium text-primary-700 hover:bg-primary-50 transition">Confirmación</a>
    <span class="ms-auto text-secondary-600">Paso 4 de 4</span>
  </div>
 </nav>

<div class="w-full min-h-screen bg-gradient-to-br from-secondary-50 to-primary-100 flex items-center justify-center p-4">
  <div class="text-center animate-fade-in-up">

    <!-- Ícono de estado -->
    <div *ngIf="pedidoState.pagoMetodo === 'transferencia' && !mesaEstado?.pagado; else okIcon"
         class="w-32 h-32 bg-amber-500 rounded-full mx-auto flex items-center justify-center shadow-lg animate-pulse-slow">
      <svg class="w-20 h-20 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
    </div>
    <ng-template #okIcon>
      <div class="w-32 h-32 bg-green-500 rounded-full mx-auto flex items-center justify-center shadow-lg animate-pulse-slow">
        <svg class="w-20 h-20 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
      </div>
    </ng-template>

    <!-- Mensaje Principal -->
    <h1 class="font-display text-4xl md:text-5xl font-bold text-secondary-800 mt-8">
      {{ (pedidoState.pagoMetodo === 'transferencia' && !mesaEstado?.pagado) ? '¡Pedido registrado! Pago pendiente' : '¡Pedido Confirmado!' }}
    </h1>
    <p class="text-secondary-600 mt-2 text-lg max-w-md mx-auto" *ngIf="pedidoState?.cliente">
      Gracias, <span class="font-semibold">{{ pedidoState.cliente?.nombre }}</span>
      <span *ngIf="pedidoState.cliente?.telefono"> ({{ pedidoState.cliente?.telefono }})</span>.
    </p>
    <p class="text-secondary-500 mt-1 text-base max-w-md mx-auto" *ngIf="pedidoState.pagoMetodo !== 'transferencia' || mesaEstado?.pagado">
      Ya estamos preparando tu pedido con mucho sazón.
    </p>
    <div *ngIf="pedidoState.pagoMetodo === 'transferencia' && !mesaEstado?.pagado" class="max-w-xl mx-auto mt-3">
      <div class="bg-amber-50 border border-amber-200 text-amber-800 px-4 py-3 rounded-xl">
        <div class="font-semibold">Transferencia pendiente de aprobación</div>
        <p class="text-sm mt-1">Tu comprobante fue enviado. Un administrador revisará la transferencia y, una vez aprobada, comenzaremos a preparar tu pedido.</p>
      </div>
    </div>

    <!-- Separador -->
    <div class="w-24 h-1 bg-primary-200 mx-auto my-8 rounded-full"></div>

    <!-- Mensaje Secundario -->
    <p class="text-secondary-600">Te avisaremos cuando esté listo para que pases a buscarlo.</p>
    <div class="mt-4 text-sm text-secondary-700" *ngIf="pedidoState">
      <div><span class="text-secondary-500">Área:</span> {{ pedidoState.area || '-' }} • <span class="text-secondary-500">Mesa:</span> {{ pedidoState.mesaId || '-' }}</div>
    </div>

    <!-- Botón de Acción -->
    <button (click)="nuevoPedido()"
            class="mt-10 bg-primary-600 text-white font-bold py-3 px-8 rounded-xl hover:bg-primary-700 focus:outline-none focus:ring-4 focus:ring-primary-300 transform hover:-translate-y-1 transition-all duration-300 shadow-lg hover:shadow-primary-400/40">
      Hacer un Nuevo Pedido
    </button>

  </div>
</div>
